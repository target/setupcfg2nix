setupcfg2nix
=============

Generate [nix] expressions from [setup.cfg][setupcfg] for a python
package.

[nix]: https://nixos.org/nix
[setupcfg]: https://setuptools.readthedocs.io/en/latest/setuptools.html#configuring-setup-using-setup-cfg-files

Using the expressions
----------------------

The expressions generated by `setupcfg2nix` are meant to be consumed
by `pythonPackages.buildSetupcfg` in [nixpkgs]. See the
[documentation] of that function for more details.

[nixpkgs]: https://nixos.org/nixpkgs
[documentation]: https://github.com/NixOS/nixpkgs/blob/master/pkgs/build-support/build-setupcfg/default.nix

Packages without setup.cfg
---------------------------

For packages lacking a declarative `setup.cfg`, `setupcfg2nix` can try
to generate one as an intermediate temporary file and generate nix
expressions anyway. This involves running potentially untrusted python
code, so it requires the `--allow-autogeneration` flag to be enabled.
If the requested `setup.cfg` doesn't exist or does not contain the
full package metadata, `setupcfg2nix` will use `setup.py` in the same
directory instead.
